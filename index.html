<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title></title>
    <link rel="import" href="table-of-data.html">
  </head>
  <body>
    <table-of-data></table-of-data>
    <script type="text/javascript">
window.addEventListener('WebComponentsReady', function(e) {
  //imports and custom elements loaded
  let table = document.querySelector('table-of-data');
  let data = {
    headings: [ 'ID', 'From Date', 'To Date', 'Type', 'Place' ],
    rows: [{
      'ID': 999,
      'From Date': Number(new Date().toISOString().slice(0, 4))-101,
      'To Date': Number(new Date().toISOString().slice(0, 4))-100,
      'Type': 'Birth',
      'Place': 'Redwood Forest'
    },
    {
      'ID': 1000,
      'From Date': new Date().toISOString().slice(0, 4),
      'To Date': new Date().toISOString().slice(0, 4),
      'Type': 'Death',
      'Place': 'New York Island'
    }]
  };
  table.attachTable(data);
});

(function() {
  'use strict';

  function lazyLoadWCPolyfillsIfNecessary() {
    var onload = function() {
      // For native Imports, manually fire WCR so user code
      // can use the same code path for native and polyfill'd imports.
      if (!window.HTMLImports) {
        document.dispatchEvent(
            new CustomEvent('WebComponentsReady', {bubbles: true}));
      }
    };

    var webComponentsSupported = (
      'registerElement' in document
      && 'import' in document.createElement('link')
      && 'content' in document.createElement('template'));
    if (!webComponentsSupported) {
      var script = document.createElement('script');
      script.async = true;
      script.src = 'lib/webcomponents-hi-ce.js';
      script.onload = onload;
      document.head.appendChild(script);
    } else {
      onload();
    }
  }
  lazyLoadWCPolyfillsIfNecessary();
})();
    </script>
  </body>
</html>
