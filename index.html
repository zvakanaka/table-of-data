<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="width=device-width,initial-scale=1.0" name="viewport">
    <title>table-of-data | Demo</title>
    <!-- <script src="./table-of-data.js"></script> -->
    <style media="screen"> :root { font-family: serif; } </style>
  </head>
  <body>
    <table-of-data></table-of-data>
    <a href="https://github.com/zvakanaka/table-of-data"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/365986a132ccd6a44c23a9169022c0b5c890c387/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f7265645f6161303030302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png"></a>
    <script type="text/javascript">
window.addEventListener('WebComponentsReady', function(e) {
  //imports and custom elements loaded
  customElements.whenDefined('table-of-data')
    .then(() => {
      console.log('defined');
      let table = document.querySelector('table-of-data');
      let data = {
        headings: [ 'State', 'Place' ],
        rows: [[
          'California',
          '<a href="https://en.wikipedia.org/wiki/Redwood_National_and_State_Parks">Redwood Forest</a>'
        ],
        [ 'New York',
          '<a href="https://en.wikipedia.org/wiki/List_of_islands_of_New_York">New York Islands</a>'
        ]]
      };
      table.data = data;
    });
});

(function() {
  'use strict';
  // thanks: https://gist.github.com/ebidel/1d5ede1e35b6f426a2a7
  function lazyLoadWCPolyfillsIfNecessary() {
    var onload = function() {
      // For native Imports, manually fire WCR so user code
      // can use the same code path for native and polyfill'd imports.
      if (!window.HTMLImports) {
        console.log(window.HTMLImports);
        document.dispatchEvent(
          new CustomEvent('WebComponentsReady', {bubbles: true}));
      }
    };
    var onloadIntermediate = function() {
      var script = document.createElement('script');
      script.async = true;
      script.src = './table-of-data.js';
      script.onload = onload;
      document.head.appendChild(script);
    };
    var webComponentsSupported = (
      'registerElement' in document);
    if (!webComponentsSupported) {
      var script = document.createElement('script');
      script.async = true;
      script.src = 'https://cdnjs.cloudflare.com/ajax/libs/custom-elements/1.0.4/custom-elements.min.js';
      script.onload = onloadIntermediate;
      document.head.appendChild(script);
    } else {
      onloadIntermediate();
    }
  }
  lazyLoadWCPolyfillsIfNecessary();
}());
    </script>
  </body>
</html>
